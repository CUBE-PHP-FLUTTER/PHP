{% extends "base.html.twig" %}

{% block title %}Détails du Produit - {{ produit.Marque }} {{ produit.Modele }}{% endblock %}

{% block body %}
    <div class="container">
        <h1 class="my-4">{{ produit.Marque }} {{ produit.Modele }}</h1>
        <div class="row">
            <div class="col-lg-6">
                <div id="map" style="height: 400px;"></div>
            </div>
            <div class="col-lg-6">
                <h3 class="my-3">Description</h3>
                <p>{{ produit.Description }}</p>
                <h3 class="my-3">Caractéristiques</h3>
                <ul>
                    <li><strong>Marque:</strong> {{ produit.Marque }}</li>
                    <li><strong>Modèle:</strong> {{ produit.Modele }}</li>
                    <li><strong>Prix:</strong> {{ produit.Prix }} €</li>
                    <li><strong>Quantité disponible:</strong> {{ produit.Quantite }}</li>
                    <li><strong>Date de Publication:</strong> {{ produit.DatePublication|date("d/m/Y") }}</li>
                </ul>
            </div>
        </div>
    </div>
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.7.0/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.7.0/mapbox-gl.css' rel='stylesheet' />
    <script>
        mapboxgl.accessToken = 'pk.eyJ1Ijoidm9ydHlmaWUiLCJhIjoiY2xzdTRkbDdtMXlvMzJqcHN0a21pcnRtZSJ9.tUMCNc3yjVEL1Z3g8RL8aA';
        var map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/mapbox/streets-v11',
            center: [{{ produit.Longitude }}, {{ produit.Latitude }}],
            zoom: 10
        });

        // Création du marqueur
        var marker = new mapboxgl.Marker()
            .setLngLat([{{ produit.Longitude }}, {{ produit.Latitude }}])
            .addTo(map);
    </script>
{% endblock %}
